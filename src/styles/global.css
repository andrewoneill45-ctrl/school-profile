/* ============================================
   ENGLAND SCHOOLS EXPLORER â€” DfE Design System
   Inspired by GOV.UK / DfE digital, modernised
   ============================================ */

:root {
  --govuk-blue: #1d70b8;
  --govuk-dark-blue: #003078;
  --govuk-green: #00703c;
  --govuk-red: #d4351c;
  --govuk-yellow: #ffdd00;
  --govuk-black: #0b0c0c;
  --govuk-dark-grey: #505a5f;
  --govuk-mid-grey: #b1b4b6;
  --govuk-light-grey: #f3f2f1;

  --dfe-blue: #003a69;
  --dfe-blue-light: #347ca9;
  --dfe-teal: #0c7c8a;
  --dfe-teal-light: #14a3b4;
  --color-amber: #f47738;
  --color-violet: #4c2c92;

  --color-ink: var(--govuk-black);
  --color-white: #ffffff;
  --color-surface: var(--govuk-light-grey);
  --color-border: #d2d5d8;
  --color-border-light: #e8eaec;
  --color-muted: var(--govuk-dark-grey);
  --color-text: var(--govuk-black);
  --color-text-light: #505a5f;
  --color-ice: #e8f4f8;
  --color-teal: var(--dfe-teal);
  --color-teal-light: var(--dfe-teal-light);
  --color-navy: var(--dfe-blue);
  --color-deep: var(--govuk-dark-blue);
  --color-coral: var(--govuk-red);

  --ofsted-outstanding: var(--govuk-green);
  --ofsted-good: var(--govuk-blue);
  --ofsted-ri: var(--color-amber);
  --ofsted-inadequate: var(--govuk-red);
  --ofsted-none: var(--govuk-mid-grey);

  --phase-primary: var(--govuk-blue);
  --phase-secondary: #a01535;
  --phase-special: var(--color-violet);
  --phase-other: var(--govuk-dark-grey);

  --font-body: 'Source Sans 3', 'Helvetica Neue', Arial, sans-serif;
  --font-display: 'Source Sans 3', 'Helvetica Neue', Arial, sans-serif;

  --space-xs: 5px;
  --space-sm: 10px;
  --space-md: 15px;
  --space-lg: 20px;
  --space-xl: 30px;
  --space-2xl: 40px;
  --space-3xl: 60px;

  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  --radius-full: 9999px;

  --shadow-sm: 0 1px 2px rgba(11,12,12,0.06);
  --shadow-md: 0 2px 8px rgba(11,12,12,0.08);
  --shadow-lg: 0 4px 20px rgba(11,12,12,0.1);
  --shadow-xl: 0 8px 40px rgba(11,12,12,0.14);
  --shadow-glow: 0 0 30px rgba(12,124,138,0.12);

  --ease-out: cubic-bezier(0.16,1,0.3,1);
  --ease-spring: cubic-bezier(0.34,1.56,0.64,1);
  --duration-fast: 120ms;
  --duration-normal: 200ms;
  --duration-slow: 350ms;
}

*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html,body,#root{height:100%;width:100%;overflow:hidden}

body {
  font-family: var(--font-body);
  color: var(--color-text);
  background: var(--color-ink);
  -webkit-font-smoothing: antialiased;
  font-size: 16px;
  line-height: 1.5;
}

::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--color-border);border-radius:var(--radius-full)}

:focus-visible {
  outline: 3px solid var(--govuk-yellow);
  outline-offset: 0;
  box-shadow: inset 0 0 0 2px var(--govuk-black);
}

@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes fadeInUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeInDown{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
@keyframes scaleIn{from{opacity:0;transform:scale(0.96)}to{opacity:1;transform:scale(1)}}
@keyframes barFill{from{width:0}}
@keyframes slideUpSheet{from{transform:translateY(100%)}to{transform:translateY(0)}}
@keyframes numberCount{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

.mapboxgl-ctrl-attrib{font-size:10px!important}
.mapboxgl-popup{z-index:100}

/* Map Controls */
.map-controls {
  position:absolute;bottom:var(--space-lg);right:var(--space-lg);
  z-index:100;display:flex;flex-direction:column;gap:var(--space-sm);
  align-items:flex-end;animation:fadeIn 0.3s var(--ease-out) 0.3s both;
}
.map-ctrl-btn {
  width:44px;height:44px;background:var(--color-white);border:1px solid var(--color-border);
  border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;
  cursor:pointer;box-shadow:var(--shadow-md);color:var(--color-text-light);
  transition:all var(--duration-fast);
}
.map-ctrl-btn:hover{background:var(--color-surface);color:var(--color-text)}

.map-home-btn {
  background: var(--govuk-blue);
  color: var(--color-white);
  border-color: var(--govuk-blue);
}
.map-home-btn:hover {
  background: var(--govuk-dark-blue);
  color: var(--color-white);
}

.map-legend {
  background:var(--color-white);border:1px solid var(--color-border);
  border-radius:var(--radius-md);padding:var(--space-sm) var(--space-md);
  box-shadow:var(--shadow-md);display:flex;flex-direction:column;gap:5px;
}
.legend-item{display:flex;align-items:center;gap:8px;font-size:0.82rem;font-weight:500;color:var(--color-text-light)}
.legend-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}

@media(max-width:640px){
  .map-controls{bottom:70px;right:var(--space-sm)}
}
